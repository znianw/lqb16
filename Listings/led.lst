C51 COMPILER V9.59.0.0   LED                                                               04/30/2025 18:09:04 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE LED
OBJECT MODULE PLACED IN .\Objects\led.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE device\src\led.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\driver\inc;.\device\i
                    -nc) DEBUG OBJECTEXTEND PRINT(.\Listings\led.lst) OBJECT(.\Objects\led.obj)

line level    source

   1          #include "led.h"
   2          #include "hc573.h"
   3          
   4          
   5          
   6          
   7          /**
   8           * @brief æ§åˆ¶æŒ‡å®šåœ°å€çš„ LED ç‚¹äº®æˆ–ç†„ç­
   9           *
  10           * è¯¥å‡½æ•°æ ¹æ®ä¼ å…¥çš„åœ°å€å’Œå¼€å…³çŠ¶æ€æ§åˆ¶ LED çš„æ˜¾ç¤ºã€‚
  11           * é€šè¿‡ä½æ“ä½œè®¾ç½® LED çš„çŠ¶æ€ï¼Œå¹¶ä»…åœ¨çŠ¶æ€æ”¹å˜æ—¶æ›´æ–°ç¡¬ä»¶ã€‚
  12           *
  13           * @param addr LED çš„ä½åœ°å€ï¼ŒèŒƒå›´ä¸º 0 - 7ï¼Œå¯¹åº” 8 ä¸ª LED
  14           * @param enable æ§åˆ¶å¼€å…³ï¼Œ1 è¡¨ç¤ºç‚¹äº® LEDï¼Œ0 è¡¨ç¤ºç†„ç­ LED
  15           */
  16          void led_display(unsigned char addr,bit enable)
  17          {
  18   1              static unsigned char temp = 0x00;
  19   1              static unsigned char temp_old = 0xff;
  20   1              
  21   1          if(enable) {
  22   2              temp |= 0x01 <<addr;
  23   2          }
  24   1              else  {
  25   2              temp &= ~(0x01 <<addr);
  26   2          }
  27   1      
  28   1           // æ£€æŸ¥å½“å‰çŠ¶æ€æ˜¯å¦ä¸ä¸Šä¸€æ¬¡çŠ¶æ€ä¸åŒ å¦‚æœç›¸åŒä¸éœ€è¦æ”¹å˜LEDçš„çŠ¶æ€
  29   1              if(temp != temp_old) {
  30   2                      P0 = ~temp;
  31   2              //SelectHC573(CS_LED);
  32   2              //è°ƒç”¨å‡½æ•°æ›´ç¬¦åˆè½¯ä»¶å¼€å‘è§„èŒƒï¼Œä½†æ˜¯51å•ç‰‡æœºèµ„æºæœ‰é™ï¼Œè°ƒç”¨å‡½æ•°ä¼šå¢åŠ å
             -¼€é”€ï¼Œè¿™é‡Œç›´æ¥å¯¹P2è¿›è¡Œä½æ“ä½œ
  33   2                      P2 = P2 & 0x1f | 0x80;
  34   2                      P2 &= 0x1f;
  35   2                      temp_old = temp;
  36   2              }
  37   1      }
  38          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     58    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----       1
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
