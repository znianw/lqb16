C51 COMPILER V9.59.0.0   SMG                                                               05/05/2025 22:34:35 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE SMG
OBJECT MODULE PLACED IN .\Objects\smg.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE device\src\smg.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\driver\inc;.\device\i
                    -nc) DEBUG OBJECTEXTEND PRINT(.\Listings\smg.lst) OBJECT(.\Objects\smg.obj)

line level    source

   1          #include "stc15f2k60s2.h"
   2          #include "smg.h"
   3          #include "hc573.h"
   4          #include "delay.h"
   5          
   6          
   7          
   8          
   9          /**æ•°ç ç®¡æ®µé€‰ç¼–ç  0-9,a-f,l,p,n,on,off*/
  10          const unsigned char code smg_duan[]={0xc0,0xf9,0xa4,0xb0,0x99,0x92,0x82,0xf8,0x80,0x90,
  11                      0x88,0x83,0xc6,0xa1,0x86,0x8e,
  12                                  0xc7,0x8c,0xc8,0x00,0xff};
  13          
  14          /**ç¡¬ä»¶è¿æ¥æ–¹å¼å¦‚ä¸‹ */
  15          /**
  16          H138_A0  P2^5;
  17          H138_A1  P2^6;
  18          H138_A2  P2^7; 
  19          COM1-COM8: Y6
  20          a-dp: Y7 
  21          D0-D7:P0*/
  22          /*================*/
  23          
  24          
  25          /**
  26           * @brief æ•°ç ç®¡æ˜¾ç¤ºå‡½æ•°
  27           * 
  28           * è¯¥å‡½æ•°ç”¨äºæ§åˆ¶æ•°ç ç®¡çš„æ˜¾ç¤ºï¼Œé€šè¿‡ä½é€‰å’Œæ®µé€‰ä¿¡å·é€‰æ‹©è¦æ˜¾ç¤ºçš„æ•°ç ç®¡ä½ç½®å
             -’Œæ•°å­—ã€‚
  29           * åŒæ—¶æ”¯æŒå°æ•°ç‚¹çš„æ˜¾ç¤ºæ§åˆ¶ã€‚
  30           * 
  31           * @param wela æ•°ç ç®¡çš„ä½é€‰ä¿¡å·ï¼Œç”¨äºé€‰æ‹©è¦ç‚¹äº®çš„æ•°ç ç®¡ä½ç½®ï¼Œæœ€å·¦è¾¹ä¸ºç¬¬0ä¸ªæ•°
             -ç ç®¡
  32           * @param dula æ•°ç ç®¡çš„æ®µé€‰ä¿¡å·ï¼Œç”¨äºé€‰æ‹©è¦æ˜¾ç¤ºçš„æ•°å­—æˆ–å­—ç¬¦ï¼ŒæŒ‰ç…§æ®µé€‰ç¼–ç ä¸‹æ
             - ‡ä¼ å…¥
  33           * @param point å°æ•°ç‚¹æ˜¾ç¤ºæ§åˆ¶ä¿¡å·ï¼Œéé›¶å€¼è¡¨ç¤ºæ˜¾ç¤ºå°æ•°ç‚¹
  34           */
  35          void smg_display(unsigned char wela, unsigned char dula, unsigned char point)
  36          {
  37   1              /**æ¶ˆéš */
  38   1              P0 = 0xff;                                      // æ¸…é™¤P0ç«¯å£çš„æ˜¾ç¤ºå†…å®¹
  39   1              SelectHC573(CS_SMG_DULA);       // é€‰æ‹©æ•°ç ç®¡çš„æ®µé€‰é”å­˜å™¨
  40   1              P2 &= 0x1f;                             // å…³é—­æ®µé€‰é”å­˜å™¨é€‰æ‹©
  41   1      
  42   1              P0 = 0x01 << wela;
  43   1              SelectHC573(CS_SMG_WELA);
  44   1              P2 &= 0x1f;
  45   1      
  46   1              P0 = smg_duan[dula];
  47   1              if (point) {
  48   2                      P0 &= 0x7f;
  49   2              }
  50   1              SelectHC573(CS_SMG_DULA);
  51   1              P2 &= 0x1f;
C51 COMPILER V9.59.0.0   SMG                                                               05/05/2025 22:34:35 PAGE 2   

  52   1      
  53   1      }
  54          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     64    ----
   CONSTANT SIZE    =     21    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       3
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
